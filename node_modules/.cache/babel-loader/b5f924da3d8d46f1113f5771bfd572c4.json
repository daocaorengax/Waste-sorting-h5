{"remainingRequest":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/babel-loader/lib/index.js!/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/request/interceptors.js","dependencies":[{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/request/interceptors.js","mtime":1626419108723},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CgovKioKICog5oum5oiq5Zmo5aSE55CGCiAqICovCi8vIGltcG9ydCB7Ci8vICAgTWVzc2FnZQovLyB9IGZyb20gJ2VsZW1lbnQtdWknCi8vIGltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgTkVFRF9MT0dJTl9TVEFUVVNfQ09ERSB9IGZyb20gJ0AvcmVxdWVzdC9jb2RlVHlwZXMuanMnOyAvLyBpbXBvcnQgeyByZWRpcmVjdExvZ2luIH0gZnJvbSAnQC91dGlscy9yb3V0ZXJGdW4nCi8vIGNvbnN0IGRlYm91bmNlID0gcmVxdWlyZSgnbG9kYXNoL2RlYm91bmNlJykKCmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoLWVzJzsgLy8g5ZON5bqU5oum5oiq5ZmoIGVycm9yIOmYsuaKluWkhOeQhgoKZXhwb3J0IHZhciBlcnJvckludGVyY2VwdG9ycyA9IGRlYm91bmNlKGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCflhajlsYDmi6bmiKrlmagtLS0tZXJyb3InKTsKICBjb25zb2xlLmxvZyhlcnJvcik7CiAgdmFyIHN0YXR1c0NvZGUgPSBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA6IHVuZGVmaW5lZDsKCiAgaWYgKHR5cGVvZiBzdGF0dXNDb2RlICE9PSAndW5kZWZpbmVkJyAmJiBzdGF0dXNDb2RlID09PSBORUVEX0xPR0lOX1NUQVRVU19DT0RFKSB7CiAgICAvLyDpnIDopoHph43mlrDnmbvlvZUKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgey8vIE1lc3NhZ2UuZXJyb3IoJ+eZu+W9leWkseaViO+8jOivt+mHjeaWsOeZu+W9lScpCiAgICB9LCA0MDApOyAvLyBzdG9yZS5jb21taXQoJ2xvZ2luT3V0JykKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsvLyByZWRpcmVjdExvZ2luKHRydWUpCiAgICB9LCAwKTsKICB9Cn0sIDEwMDAsIHsKICBsZWFkaW5nOiB0cnVlLAogIHRyYWlsaW5nOiBmYWxzZQp9KTs="},{"version":3,"sources":["/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/request/interceptors.js"],"names":["store","NEED_LOGIN_STATUS_CODE","debounce","errorInterceptors","error","console","log","statusCode","response","status","undefined","setTimeout","leading","trailing"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,SAAlB;AACA,SAAQC,sBAAR,QAAqC,wBAArC,C,CACA;AAEA;;AACA,SAAQC,QAAR,QAAuB,WAAvB,C,CAEA;;AACA,OAAO,IAAMC,iBAAiB,GAAGD,QAAQ,CAAC,UAAUE,KAAV,EAAiB;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,MAAIG,UAAU,GAAGH,KAAK,CAACI,QAAN,GAAiBJ,KAAK,CAACI,QAAN,CAAeC,MAAhC,GAAyCC,SAA1D;;AACA,MAAI,OAAOH,UAAP,KAAsB,WAAtB,IAAqCA,UAAU,KAAKN,sBAAxD,EAAgF;AAC9E;AACAU,IAAAA,UAAU,CAAC,YAAM,CACf;AACD,KAFS,EAEP,GAFO,CAAV,CAF8E,CAK9E;;AACAA,IAAAA,UAAU,CAAC,YAAM,CACf;AACD,KAFS,EAEP,CAFO,CAAV;AAGD;AACF,CAdwC,EActC,IAdsC,EAchC;AACPC,EAAAA,OAAO,EAAE,IADF;AAEPC,EAAAA,QAAQ,EAAE;AAFH,CAdgC,CAAlC","sourcesContent":["/**\n * 拦截器处理\n * */\n// import {\n//   Message\n// } from 'element-ui'\n// import router from '@/router'\nimport store from '@/store'\nimport {NEED_LOGIN_STATUS_CODE} from '@/request/codeTypes.js'\n// import { redirectLogin } from '@/utils/routerFun'\n\n// const debounce = require('lodash/debounce')\nimport {debounce} from 'lodash-es'\n\n// 响应拦截器 error 防抖处理\nexport const errorInterceptors = debounce(function (error) {\n  console.log('全局拦截器----error')\n  console.log(error)\n  let statusCode = error.response ? error.response.status : undefined\n  if (typeof statusCode !== 'undefined' && statusCode === NEED_LOGIN_STATUS_CODE) {\n    // 需要重新登录\n    setTimeout(() => {\n      // Message.error('登录失效，请重新登录')\n    }, 400)\n    // store.commit('loginOut')\n    setTimeout(() => {\n      // redirectLogin(true)\n    }, 0)\n  }\n}, 1000, {\n  leading: true,\n  trailing: false\n})\n"]}]}