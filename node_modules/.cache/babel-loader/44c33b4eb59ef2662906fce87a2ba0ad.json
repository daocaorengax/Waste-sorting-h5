{"remainingRequest":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/babel-loader/lib/index.js!/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/views/login/components/LoginFooter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/views/login/components/LoginFooter.vue","mtime":1630979990860},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENhbGxBcHAgZnJvbSAnY2FsbGFwcC1saWInOyAvLyBpbXBvcnQge1RvYXN0fSBmcm9tICJ2YW50IgoKaW1wb3J0IHsgZ2V0QW5kcm9pZEFQUFZlcnNpb24sIGdldElvc0FwcE1lc3NhZ2UgfSBmcm9tICJAL2FwaS9hcGlBcHAiOwppbXBvcnQgeyBpc0lPUyB9IGZyb20gJ0AvdXRpbHMvbmF2aWdhdG9yJzsKaW1wb3J0ICogYXMgYXBwQ29uZmlnIGZyb20gJ0AvY29uZmlnL2FwcC5qcyc7CnZhciBzY2hlbWUgPSB7fTsKY29uc29sZS5sb2coYXBwQ29uZmlnKTsKCmlmIChpc0lPUykgewogIHNjaGVtZSA9IHsKICAgIHByb3RvY29sOiBhcHBDb25maWcuaW9zQ29uZmlnLnNjaGVtZS5wcm90b2NvbAogIH07Cn0gZWxzZSB7CiAgc2NoZW1lID0gewogICAgcHJvdG9jb2w6IGFwcENvbmZpZy5hbmRyb2lkQ29uZmlnLnNjaGVtZS5wcm90b2NvbCwKICAgIGhvc3Q6IGFwcENvbmZpZy5hbmRyb2lkQ29uZmlnLnNjaGVtZS5ob3N0LAogICAgcG9ydDogYXBwQ29uZmlnLmFuZHJvaWRDb25maWcuc2NoZW1lLnBvcnQKICB9Owp9Cgp2YXIgb3B0aW9ucyA9IHsKICBzY2hlbWU6IHNjaGVtZSwKICBpbnRlbnQ6IHsKICAgICJwYWNrYWdlIjogYXBwQ29uZmlnLmFuZHJvaWRDb25maWdbInBhY2thZ2UiXSwKICAgIHNjaGVtZTogYXBwQ29uZmlnLmFuZHJvaWRDb25maWcuc2NoZW1lLnByb3RvY29sCiAgfSwKICAvLyB1bml2ZXJzYWw6IHsKICAvLyAgIGhvc3Q6ICcuLycKICAvLyB9LAogIGFwcHN0b3JlOiBhcHBDb25maWcuaW9zQXBwU3RvcmUsCiAgeWluZ3lvbmdiYW86IGFwcENvbmZpZy55aW5nWW9uZ0Jhb0xpbmssCiAgZmFsbGJhY2s6ICcnLAogIGxvZ0Z1bmM6IGZ1bmN0aW9uIGxvZ0Z1bmMoc3RhdHVzKSB7CiAgICBpZiAoc3RhdHVzID09PSAnZmFpbHVyZScpIHsvLyDot7PovazlpLHotKXkuoYKICAgICAgLy8gVG9hc3QoJ+i3s+i9rOWksei0peS6hicpCiAgICB9CiAgfQp9Owp2YXIgY2FsbExpYiA9IG5ldyBDYWxsQXBwKG9wdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luRm9vdGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmVyc2lvbjogJycsCiAgICAgIGRvd25sb2FkX3VybDogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGlzSU9TKSB7CiAgICAgIHRoaXMuZG93bmxvYWRfdXJsID0gYXBwQ29uZmlnLmlvc0FwcFN0b3JlOwogICAgICB0aGlzLmdldElvc0RhdGEoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0QXBwRGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5omT5byAYXBwCiAgICBvcGVuTGliQXBwOiBmdW5jdGlvbiBvcGVuTGliQXBwKCkgewogICAgICBjYWxsTGliLm9wZW4oewogICAgICAgIHBhdGg6IGlzSU9TID8gJycgOiAnd2VsY29tZScKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QXBwRGF0YTogZnVuY3Rpb24gZ2V0QXBwRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldEFuZHJvaWRBUFBWZXJzaW9uKHsKICAgICAgICB2ZXJzaW9uX2NvZGU6IDEKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIF9yZXMkZGF0YTsKCiAgICAgICAgaWYgKChfcmVzJGRhdGEgPSByZXMuZGF0YSkgIT09IG51bGwgJiYgX3JlcyRkYXRhICE9PSB2b2lkIDAgJiYgX3JlcyRkYXRhLmRvd25sb2FkX3VybCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgdmFyIHJlc0RhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIF90aGlzLnZlcnNpb24gPSByZXNEYXRhLnZlcnNpb25fbmFtZTsKICAgICAgICAgIF90aGlzLmRvd25sb2FkX3VybCA9IHJlc0RhdGEuZG93bmxvYWRfdXJsOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiR0b2FzdCgn5p+l6K+i5aSx6LSl77yM6K+36YeN5paw5bCd6K+V77yBJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOafpeivogogICAgZ2V0SW9zRGF0YTogZnVuY3Rpb24gZ2V0SW9zRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRJb3NBcHBNZXNzYWdlKHsKICAgICAgICB2ZXJzaW9uX25hbWU6ICcxLjAuMCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIF9yZXMkZGF0YTI7CgogICAgICAgIGlmICgoX3JlcyRkYXRhMiA9IHJlcy5kYXRhKSAhPT0gbnVsbCAmJiBfcmVzJGRhdGEyICE9PSB2b2lkIDAgJiYgX3JlcyRkYXRhMi52ZXJzaW9uX25hbWUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIHZhciByZXNEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBfdGhpczIudmVyc2lvbiA9IHJlc0RhdGEudmVyc2lvbl9uYW1lOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kdG9hc3QoJ+afpeivouWksei0pe+8jOivt+mHjeaWsOWwneivle+8gScpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43or5UKICAgIHJldHJ5R2V0VXJsOiBmdW5jdGlvbiByZXRyeUdldFVybCgpIHsKICAgICAgaWYgKCFpc0lPUykgewogICAgICAgIHRoaXMuJHRvYXN0KCfkuIvovb3lnLDlnYDmn6Xor6LlpLHotKXvvIzor7fph43mlrDlsJ3or5XvvIEnKTsKICAgICAgICB0aGlzLmdldEFwcERhdGEoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["LoginFooter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login-footer\">\n    <div class=\"login-footer__divider\">\n      <div class=\"am-cf\"><!--解决vant divider 组件margin-top 问题--></div>\n      <van-divider>其他</van-divider>\n      <div class=\"am-cf\"><!--解决vant divider 组件margin-bottom 问题--></div>\n    </div>\n    <div class=\"login-footer__bd am-flex-rc-between\">\n      <div class=\"login-footer__ct-list am-flex-col-center\" @click=\"openLibApp\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945018600.png\"\n             class=\"login-footer__ct-icon\">\n        <span>打开经营帮APP</span>\n      </div>\n      <a class=\"login-footer__ct-list am-flex-col-center\" :href=\"download_url\" v-if=\"download_url\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945047710.png\"\n             class=\"login-footer__ct-icon\">\n        <span>下载经营帮APP</span>\n      </a>\n      <div class=\"login-footer__ct-list am-flex-col-center\" v-else @click=\"retryGetUrl\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945047710.png\"\n             class=\"login-footer__ct-icon\">\n        <span>下载经营帮APP</span>\n      </div>\n    </div>\n    <div class=\"login-footer__copyright\">\n      <p class=\"login-footer__copyright-text\">开发者:中钧科技有限公司陕西分公司</p>\n      <p class=\"login-footer__copyright-text\">版本: {{version}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CallApp from 'callapp-lib'\n// import {Toast} from \"vant\"\nimport {getAndroidAPPVersion, getIosAppMessage} from \"@/api/apiApp\"\nimport {isIOS} from '@/utils/navigator'\nimport * as appConfig from '@/config/app.js'\n\nlet scheme = {}\nconsole.log(appConfig)\nif (isIOS) {\n  scheme = {\n    protocol: appConfig.iosConfig.scheme.protocol\n  }\n} else {\n  scheme = {\n    protocol: appConfig.androidConfig.scheme.protocol,\n    host: appConfig.androidConfig.scheme.host,\n    port: appConfig.androidConfig.scheme.port\n  }\n}\nconst options = {\n  scheme: scheme,\n  intent: {\n    package: appConfig.androidConfig.package,\n    scheme: appConfig.androidConfig.scheme.protocol\n  },\n  // universal: {\n  //   host: './'\n  // },\n  appstore: appConfig.iosAppStore,\n  yingyongbao: appConfig.yingYongBaoLink,\n  fallback: '',\n  logFunc(status) {\n    if (status === 'failure') {\n      // 跳转失败了\n      // Toast('跳转失败了')\n    }\n  }\n}\nconst callLib = new CallApp(options)\nexport default {\n  name: \"LoginFooter\",\n  data() {\n    return {\n      version: '',\n      download_url: ''\n    }\n  },\n  created() {\n    if (isIOS) {\n      this.download_url = appConfig.iosAppStore\n      this.getIosData()\n    } else {\n      this.getAppData()\n    }\n  },\n  methods: {\n    // 打开app\n    openLibApp() {\n      callLib.open({\n        path: isIOS ? '' : 'welcome'\n      })\n    },\n    getAppData() {\n      getAndroidAPPVersion({version_code: 1}).then(res => {\n        if (res.data?.download_url) {\n          console.log(res.data)\n          let resData = res.data\n          this.version = resData.version_name\n          this.download_url = resData.download_url\n        }\n      }).catch(() => {\n        this.$toast('查询失败，请重新尝试！')\n      })\n    },\n    // 查询\n    getIosData() {\n      getIosAppMessage({version_name: '1.0.0'}).then(res => {\n        if (res.data?.version_name) {\n          console.log(res.data)\n          let resData = res.data\n          this.version = resData.version_name\n        }\n      }).catch(() => {\n        this.$toast('查询失败，请重新尝试！')\n      })\n    },\n    // 重试\n    retryGetUrl () {\n      if (!isIOS) {\n        this.$toast('下载地址查询失败，请重新尝试！')\n        this.getAppData()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n$page-plr: 0.64rem;\n.login-footer__divider {\n  padding: 0 $page-plr 0;\n}\n\n.login-footer__bd {\n  padding: 0 $page-plr;\n}\n\n.login-footer__ct-list {\n  width: 3.68rem;\n  font-size: 12px;\n  color: #9B9EA5;\n}\n\n.login-footer__ct-icon {\n  display: block;\n  width: .91rem;\n  margin-bottom: .27rem;\n}\n\n.login-footer__copyright {\n  margin-top: 1.17rem;\n  padding-bottom: 0.53rem;\n  font-size: 12px;\n  color: #C0C4CC;\n  text-align: center;\n}\n.login-footer__copyright-text{\n  & + .login-footer__copyright-text {\n    margin-top: .27rem;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/login/components"}]}