{"remainingRequest":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/views/login/components/LoginFooter.vue?vue&type=style&index=0&id=df5fea6a&scoped=true&lang=scss&","dependencies":[{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/src/views/login/components/LoginFooter.vue","mtime":1630979990860},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/DCR-Data/1_Work/KH/KH04/Waste-sorting-h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiRwYWdlLXBscjogMC42NHJlbTsKLmxvZ2luLWZvb3Rlcl9fZGl2aWRlciB7CiAgcGFkZGluZzogMCAkcGFnZS1wbHIgMDsKfQoKLmxvZ2luLWZvb3Rlcl9fYmQgewogIHBhZGRpbmc6IDAgJHBhZ2UtcGxyOwp9CgoubG9naW4tZm9vdGVyX19jdC1saXN0IHsKICB3aWR0aDogMy42OHJlbTsKICBmb250LXNpemU6IDEycHg7CiAgY29sb3I6ICM5QjlFQTU7Cn0KCi5sb2dpbi1mb290ZXJfX2N0LWljb24gewogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiAuOTFyZW07CiAgbWFyZ2luLWJvdHRvbTogLjI3cmVtOwp9CgoubG9naW4tZm9vdGVyX19jb3B5cmlnaHQgewogIG1hcmdpbi10b3A6IDEuMTdyZW07CiAgcGFkZGluZy1ib3R0b206IDAuNTNyZW07CiAgZm9udC1zaXplOiAxMnB4OwogIGNvbG9yOiAjQzBDNENDOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoubG9naW4tZm9vdGVyX19jb3B5cmlnaHQtdGV4dHsKICAmICsgLmxvZ2luLWZvb3Rlcl9fY29weXJpZ2h0LXRleHQgewogICAgbWFyZ2luLXRvcDogLjI3cmVtOwogIH0KfQo="},{"version":3,"sources":["LoginFooter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginFooter.vue","sourceRoot":"src/views/login/components","sourcesContent":["<template>\n  <div class=\"login-footer\">\n    <div class=\"login-footer__divider\">\n      <div class=\"am-cf\"><!--解决vant divider 组件margin-top 问题--></div>\n      <van-divider>其他</van-divider>\n      <div class=\"am-cf\"><!--解决vant divider 组件margin-bottom 问题--></div>\n    </div>\n    <div class=\"login-footer__bd am-flex-rc-between\">\n      <div class=\"login-footer__ct-list am-flex-col-center\" @click=\"openLibApp\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945018600.png\"\n             class=\"login-footer__ct-icon\">\n        <span>打开经营帮APP</span>\n      </div>\n      <a class=\"login-footer__ct-list am-flex-col-center\" :href=\"download_url\" v-if=\"download_url\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945047710.png\"\n             class=\"login-footer__ct-icon\">\n        <span>下载经营帮APP</span>\n      </a>\n      <div class=\"login-footer__ct-list am-flex-col-center\" v-else @click=\"retryGetUrl\">\n        <img src=\"https://shigongbang.oss-cn-hangzhou.aliyuncs.com/app/2021/08/1629945047710.png\"\n             class=\"login-footer__ct-icon\">\n        <span>下载经营帮APP</span>\n      </div>\n    </div>\n    <div class=\"login-footer__copyright\">\n      <p class=\"login-footer__copyright-text\">开发者:中钧科技有限公司陕西分公司</p>\n      <p class=\"login-footer__copyright-text\">版本: {{version}}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CallApp from 'callapp-lib'\n// import {Toast} from \"vant\"\nimport {getAndroidAPPVersion, getIosAppMessage} from \"@/api/apiApp\"\nimport {isIOS} from '@/utils/navigator'\nimport * as appConfig from '@/config/app.js'\n\nlet scheme = {}\nconsole.log(appConfig)\nif (isIOS) {\n  scheme = {\n    protocol: appConfig.iosConfig.scheme.protocol\n  }\n} else {\n  scheme = {\n    protocol: appConfig.androidConfig.scheme.protocol,\n    host: appConfig.androidConfig.scheme.host,\n    port: appConfig.androidConfig.scheme.port\n  }\n}\nconst options = {\n  scheme: scheme,\n  intent: {\n    package: appConfig.androidConfig.package,\n    scheme: appConfig.androidConfig.scheme.protocol\n  },\n  // universal: {\n  //   host: './'\n  // },\n  appstore: appConfig.iosAppStore,\n  yingyongbao: appConfig.yingYongBaoLink,\n  fallback: '',\n  logFunc(status) {\n    if (status === 'failure') {\n      // 跳转失败了\n      // Toast('跳转失败了')\n    }\n  }\n}\nconst callLib = new CallApp(options)\nexport default {\n  name: \"LoginFooter\",\n  data() {\n    return {\n      version: '',\n      download_url: ''\n    }\n  },\n  created() {\n    if (isIOS) {\n      this.download_url = appConfig.iosAppStore\n      this.getIosData()\n    } else {\n      this.getAppData()\n    }\n  },\n  methods: {\n    // 打开app\n    openLibApp() {\n      callLib.open({\n        path: isIOS ? '' : 'welcome'\n      })\n    },\n    getAppData() {\n      getAndroidAPPVersion({version_code: 1}).then(res => {\n        if (res.data?.download_url) {\n          console.log(res.data)\n          let resData = res.data\n          this.version = resData.version_name\n          this.download_url = resData.download_url\n        }\n      }).catch(() => {\n        this.$toast('查询失败，请重新尝试！')\n      })\n    },\n    // 查询\n    getIosData() {\n      getIosAppMessage({version_name: '1.0.0'}).then(res => {\n        if (res.data?.version_name) {\n          console.log(res.data)\n          let resData = res.data\n          this.version = resData.version_name\n        }\n      }).catch(() => {\n        this.$toast('查询失败，请重新尝试！')\n      })\n    },\n    // 重试\n    retryGetUrl () {\n      if (!isIOS) {\n        this.$toast('下载地址查询失败，请重新尝试！')\n        this.getAppData()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n$page-plr: 0.64rem;\n.login-footer__divider {\n  padding: 0 $page-plr 0;\n}\n\n.login-footer__bd {\n  padding: 0 $page-plr;\n}\n\n.login-footer__ct-list {\n  width: 3.68rem;\n  font-size: 12px;\n  color: #9B9EA5;\n}\n\n.login-footer__ct-icon {\n  display: block;\n  width: .91rem;\n  margin-bottom: .27rem;\n}\n\n.login-footer__copyright {\n  margin-top: 1.17rem;\n  padding-bottom: 0.53rem;\n  font-size: 12px;\n  color: #C0C4CC;\n  text-align: center;\n}\n.login-footer__copyright-text{\n  & + .login-footer__copyright-text {\n    margin-top: .27rem;\n  }\n}\n</style>\n"]}]}